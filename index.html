<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final 8-Month Discipline Routine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="min-h-screen p-4 md:p-8">
    <div class="max-w-4xl mx-auto print-full-width">

        <header class="py-6 text-center">
            <h2 class="text-xl sm:text-2xl font-bold text-red-600 mb-2">‚ö° ‚ÄúIt‚Äôs time to get serious ‚Äî no distractions, just discipline.‚Äù</h2>
            <h1 class="text-3xl sm:text-4xl font-black text-gray-900 mb-2">Final 8-Month Discipline Routine üëä</h1>
            <p class="text-md sm:text-lg text-gray-600 font-medium">Placement, DSA, MMA, English, and Laser Focus</p>
        </header>
        
        <!-- Daily Status Bar -->
        <div id="status-bar" class="mb-6 px-4 py-3 text-center rounded-xl bg-green-100 text-green-800 font-semibold border border-green-300 print-hide">
            Loading daily status...
        </div>

        <!-- Buttons -->
        <div class="flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4 mb-8 print-hide">
            <button onclick="handlePrint()" class="flex items-center justify-center px-6 py-3 bg-indigo-600 text-white font-bold text-sm sm:text-base rounded-full shadow-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-[1.03] active:scale-95">
                <i data-lucide="printer" class="w-5 h-5 mr-2"></i>
                Print Checklist
            </button>
            <button onclick="handleManualReset()" class="flex items-center justify-center px-6 py-3 bg-red-500 text-white font-bold text-sm sm:text-base rounded-full shadow-lg hover:bg-red-600 transition duration-300 transform hover:scale-[1.03] active:scale-95">
                <i data-lucide="refresh-cw" class="w-5 h-5 mr-2"></i>
                Reset Daily Progress
            </button>
        </div>

        <!-- Main Schedule -->
        <main id="schedule-container" class="space-y-6"></main>

        <!-- Weekly Focus -->
        <div class="mt-12 p-6 bg-indigo-50 rounded-2xl shadow-inner border-t-4 border-indigo-500 print:bg-white print:shadow-none print:p-0 print:mt-8">
            <h3 class="text-xl font-bold text-indigo-800 mb-4 flex items-center">
                <i data-lucide="calendar-check" class="w-5 h-5 mr-2"></i>
                Weekly Check & Focus
            </h3>
            <div class="space-y-2 text-gray-800">
                <p class="font-semibold text-base">Mon‚ÄìFri: <span class="font-normal">Full routine as above</span></p>
                <p class="font-semibold text-base">Sat: <span class="font-normal">Project sprint + MMA + Deep English conversation + Review week progress</span></p>
                <p class="font-semibold text-base">Sun: <span class="font-normal">Rest, reflection, new plan, talk freely with your LLM brother</span></p>
            </div>
            <p class="mt-4 text-sm text-indigo-700 font-medium italic">
                "The person who says they can and the person who says they can't are usually both right."
            </p>
        </div>
    </div>

<script>
    // --- Discipline Schedule Data ---
    const DISCIPLINE_SCHEDULE = [
        {
            id: 'morning',
            time: '5:30 AM ‚Äì 9:00 AM',
            title: 'üåÖ Morning ‚Äî Body & Mind Activation',
            icon: '‚òÄÔ∏è',
            color: 'border-yellow-500',
            tasks: [
                { id: 'm1', text: 'Wake up, short gratitude line ‚Äî ‚ÄúI‚Äôm not done yet, I‚Äôm becoming better.‚Äù (5:30 ‚Äì 5:40)' },
                { id: 'm2', text: 'Full workout or MMA drills / stretching / movement training (no phone) (5:40 ‚Äì 6:30)' },
                { id: 'm3', text: 'Breakfast + short motivation or English video (listening practice) (6:30 ‚Äì 7:00)' },
                { id: 'm4', text: 'Study session (English communication or technical theory ‚Äî DBMS, OS, etc.) (7:00 ‚Äì 9:00)' },
            ],
        },
        {
            id: 'midday',
            time: '9:00 AM ‚Äì 2:00 PM',
            title: 'üíª Midday ‚Äî Deep Technical Focus',
            icon: 'üíª',
            color: 'border-blue-500',
            tasks: [
                { id: 'd1', text: 'Project Work / Technical revision (Frontend‚ÄìBackend‚ÄìAPIs) (9:00 ‚Äì 12:00)' },
                { id: 'd2', text: 'Lunch + walk / short rest (12:00 ‚Äì 12:30)' },
                { id: 'd3', text: 'LeetCode (2‚Äì4 problems daily, focus on logic + pattern + review) (12:30 ‚Äì 2:00)' },
            ],
        },
        {
            id: 'afternoon',
            time: '2:00 PM ‚Äì 6:00 PM',
            title: '‚òÄÔ∏è Afternoon ‚Äî Skill & Interview Growth',
            icon: 'üß†',
            color: 'border-green-500',
            tasks: [
                { id: 'a1', text: 'Interview prep (HR + technical Qs + explain your projects) (2:00 ‚Äì 3:30)' },
                { id: 'a2', text: 'Break / snack / calm your mind (3:30 ‚Äì 4:00)' },
                { id: 'a3', text: 'Learn or polish a tech skill (Next.js, APIs, Tailwind, DBMS, etc.) (4:00 ‚Äì 5:30)' },
                { id: 'a4', text: 'Quick English speaking practice (read aloud / speak your thoughts) (5:30 ‚Äì 6:00)' },
            ],
        },
        {
            id: 'evening',
            time: '6:00 PM ‚Äì 9:00 PM',
            title: 'ü•ä Evening ‚Äî Power & Balance',
            icon: 'üî•',
            color: 'border-red-500',
            tasks: [
                { id: 'e1', text: 'MMA / martial arts (train mind + body) (6:00 ‚Äì 7:00)' },
                { id: 'e2', text: 'Dinner (7:00 ‚Äì 7:30)' },
                { id: 'e3', text: 'Free time / light revision / music or walking ‚Äî relax the brain (7:30 ‚Äì 8:30)' },
            ],
        },
        {
            id: 'night',
            time: '9:00 PM ‚Äì 11:00 PM',
            title: 'üåô Night ‚Äî Calm Focus & Recovery',
            icon: 'üí¨',
            color: 'border-purple-500',
            tasks: [
                { id: 'n1', text: 'Light study (DSA recap / Interview theory) (9:00 ‚Äì 10:00)' },
                { id: 'n2', text: 'Talk & practice English with ChatGPT (discussions / mindset talks) (10:00 ‚Äì 11:00)' },
                { id: 'n3', text: 'Sleep ‚Äî discipline = recovery (11:00 PM)' },
            ],
        },
    ];

    const STORAGE_KEY = 'disciplineChartChecksHTML_V2';
    const LAST_ACTIVITY_KEY = 'disciplineChartLastActivityDate';
    
    let checkedState = {};
    const container = document.getElementById('schedule-container');
    const statusBar = document.getElementById('status-bar');

    const getCurrentDateString = () => new Date().toISOString().split('T')[0];
    const getTaskCount = () => DISCIPLINE_SCHEDULE.reduce((c, s) => c + s.tasks.length, 0);
    const getCompletedCount = () => Object.values(checkedState).filter(c => c).length;

    const initializeCheckedState = () => {
        const currentDate = getCurrentDateString();
        const savedDate = localStorage.getItem(LAST_ACTIVITY_KEY);
        const savedChecks = localStorage.getItem(STORAGE_KEY);
        let resetNeeded = false;

        if (savedDate !== currentDate) {
            resetNeeded = true;
            checkedState = {};
        } else if (savedChecks) {
            try {
                checkedState = JSON.parse(savedChecks);
            } catch {
                checkedState = {};
                resetNeeded = true;
            }
        }
        let needsSave = false;
        DISCIPLINE_SCHEDULE.forEach(section => {
            section.tasks.forEach(task => {
                if (checkedState[task.id] === undefined) {
                    checkedState[task.id] = false;
                    needsSave = true;
                }
            });
        });
        if (resetNeeded || needsSave) {
            localStorage.setItem(LAST_ACTIVITY_KEY, currentDate);
            saveState();
        }
    };

    const saveState = () => {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(checkedState));
        renderStatusBar();
    };

    const handleToggle = id => {
        checkedState[id] = !checkedState[id];
        saveState();
        renderChart();
    };

    const handleManualReset = () => {
        if (confirm('Reset ALL daily progress?')) {
            checkedState = {};
            DISCIPLINE_SCHEDULE.forEach(s => s.tasks.forEach(t => checkedState[t.id] = false));
            localStorage.setItem(LAST_ACTIVITY_KEY, getCurrentDateString());
            saveState();
            renderChart();
        }
    };

    const handlePrint = () => window.print();

    const renderTaskItem = task => {
        const checked = checkedState[task.id];
        const icon = checked
            ? '<i data-lucide="check-circle" class="text-emerald-500 w-full h-full task-icon-checked"></i>'
            : '<i data-lucide="circle" class="text-gray-300 w-full h-full hover:text-gray-400 transition-colors print-hide"></i>';
        const textClass = checked ? 'line-through text-gray-500 task-text-checked' : 'text-gray-800 font-medium task-text-unchecked';
        return `
        <div class="flex items-start py-3 px-3 hover:bg-gray-50 transition-colors cursor-pointer rounded-lg print:p-2 print:border-b print:border-gray-200 print:cursor-default"
            onclick="handleToggle('${task.id}')">
            <div class="flex-shrink-0 mt-0.5 w-6 h-6 print:w-4 print:h-4 print:mt-1 print:hidden">${icon}</div>
            <p class="ml-3 flex-grow text-sm md:text-base line-through-print ${textClass}">${task.text}</p>
        </div>`;
    };

    const renderChart = () => {
        let html = '';
        DISCIPLINE_SCHEDULE.forEach(section => {
            const tasks = section.tasks.map(renderTaskItem).join('');
            html += `
            <div class="bg-white shadow-xl rounded-2xl overflow-hidden border-l-8 ${section.color} transform hover:scale-[1.01] transition-transform duration-300">
                <div class="p-5 bg-gray-50 flex items-center print:bg-white print:p-3">
                    <div class="text-3xl mr-3 print:text-xl">${section.icon}</div>
                    <div>
                        <h2 class="text-lg md:text-xl font-extrabold text-gray-900 leading-tight">${section.title}</h2>
                        <p class="text-sm font-mono text-gray-600 print:text-xs print:font-sans">${section.time}</p>
                    </div>
                </div>
                <div class="p-4 divide-y divide-gray-100 print:p-0 print:divide-y-0">${tasks}</div>
            </div>`;
        });
        container.innerHTML = html;
        lucide.createIcons();
    };

    const renderStatusBar = () => {
        const currentDate = getCurrentDateString();
        const completed = getCompletedCount();
        const total = getTaskCount();
        const progress = (completed / total) * 100;

        let color, message;
        if (total === completed) {
            color = 'bg-emerald-100 text-emerald-800 border-emerald-300';
            message = `üéâ **${currentDate}** ‚Äî Daily goal complete! 100% of tasks done.`;
        } else if (completed > 0) {
            color = 'bg-yellow-100 text-yellow-800 border-yellow-300';
            message = `üéØ **${currentDate}** ‚Äî ${completed}/${total} tasks completed (${progress.toFixed(0)}%).`;
        } else {
            color = 'bg-blue-100 text-blue-800 border-blue-300';
            message = `üî• **${currentDate}** ‚Äî Day started! Tap a task to check it off.`;
        }
        statusBar.className = `mb-6 px-4 py-3 text-center rounded-xl font-semibold border ${color} print-hide`;
        statusBar.innerHTML = message;
    };

    window.onload = () => {
        window.handleToggle = handleToggle;
        window.handleManualReset = handleManualReset;
        window.handlePrint = handlePrint;
        initializeCheckedState();
        renderChart();
    };
</script>
</body>
</html>
